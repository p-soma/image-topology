function keep = gaussianDensityFiltration(X, s, p)
% density estimation according to a gaussian distribution
%   param X data
%   param s is 2*sigma^2
%   param p a percentage of densest points to keep
%   return points the top p percentage of points with highest density

    D = dNormDist(X,X);
    density = mean(exp(-(D .^2)/0.1));
    
    [density_sorted, sorted_idx] = sort(density);
    
    % get number of points to keep based on cut param p
    n = ceil(p * size(X,1));
    
    X_sorted = X(sorted_idx,:);
    
    
end